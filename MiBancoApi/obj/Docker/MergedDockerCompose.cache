name: dockercompose17658909562788333848
services:
  api:
    build:
      context: C:\Users\User\source\repos\haroldev1799\mibanco-devsu\MiBancoApi
      dockerfile: API/Dockerfile
    image: serviciomibancoapi
    networks:
      default: null
  frontend:
    build:
      context: C:\Users\User\source\repos\haroldev1799\mibanco-devsu\MiBanco
      dockerfile: Dockerfile
    container_name: mibanco-frontend
    depends_on:
      api:
        condition: service_started
        required: true
    networks:
      default: null
    ports:
      - mode: ingress
        target: 80
        published: "4200"
        protocol: tcp
  serviciomibanco.api:
    build:
      context: C:\Users\User\source\repos\haroldev1799\mibanco-devsu\MiBancoApi
      dockerfile: API/Dockerfile
    container_name: mibanco-api
    depends_on:
      sqlserver:
        condition: service_healthy
        required: true
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      SFTConnectionString: Server=sqlserver,1433;Database=MiBancoDB;User Id=sa;Password=Root1234!;TrustServerCertificate=True;
    networks:
      default: null
    ports:
      - mode: ingress
        target: 8080
        published: "5000"
        protocol: tcp
  sqlserver:
    container_name: sqlserver
    environment:
      ACCEPT_EULA: "Y"
      SA_PASSWORD: Root1234!
    healthcheck:
      test:
        - CMD-SHELL
        - /opt/mssql-tools18/bin/sqlcmd -S localhost -U sa -P Root1234! -C -Q 'SELECT 1'
      timeout: 10s
      interval: 15s
      retries: 10
      start_period: 40s
    image: mcr.microsoft.com/mssql/server:2022-latest
    networks:
      default: null
    ports:
      - mode: ingress
        target: 1433
        published: "1433"
        protocol: tcp
    volumes:
      - type: volume
        source: sql_data
        target: /var/opt/mssql
        volume: {}
networks:
  default:
    name: dockercompose17658909562788333848_default
volumes:
  sql_data:
    name: dockercompose17658909562788333848_sql_data